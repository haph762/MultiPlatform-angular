"use strict";(self.webpackChunkcoreui_free_angular_admin_template=self.webpackChunkcoreui_free_angular_admin_template||[]).push([[592],{301:(M,v,c)=>{c.d(v,{d:()=>D,N:()=>j});var s=c(4650),m=c(1281),T=c(1172),f=c(4393);const w=n=>{const{chart:i,tooltip:t}=n,e=(n=>{let i=n.canvas.parentNode.querySelector("div");if(!i){i=document.createElement("div"),i.classList.add("chartjs-tooltip");const t=document.createElement("table");t.style.margin="0px",i.appendChild(t),n.canvas.parentNode.appendChild(i)}return i})(i);if(0===t.opacity)return void(e.style.opacity=0);if(t.body){const L=t.title||[],I=t.body.map(p=>p.lines),E=document.createElement("thead");E.classList.add("chartjs-tooltip-header"),L.forEach(p=>{const r=document.createElement("tr");r.style.borderWidth=0,r.classList.add("chartjs-tooltip-header-item");const h=document.createElement("th");h.style.borderWidth=0;const o=document.createTextNode(p);h.appendChild(o),r.appendChild(h),E.appendChild(r)});const C=document.createElement("tbody");C.classList.add("chartjs-tooltip-body"),I.forEach((p,r)=>{const h=t.labelColors[r],o=document.createElement("span");o.style.background=h.backgroundColor,o.style.borderColor=h.borderColor,o.style.borderWidth="2px",o.style.marginRight="10px",o.style.height="10px",o.style.width="10px",o.style.display="inline-block";const y=document.createElement("tr");y.classList.add("chartjs-tooltip-body-item");const g=document.createElement("td");g.style.borderWidth=0;const x=document.createTextNode(p);g.appendChild(o),g.appendChild(x),y.appendChild(g),C.appendChild(y)});const u=e.querySelector("table");for(;u.firstChild;)u.firstChild.remove();u.appendChild(E),u.appendChild(C)}const{offsetLeft:a,offsetTop:l}=i.canvas;e.style.opacity=1,e.style.left=a+t.caretX+"px",e.style.top=l+t.caretY+"px",e.style.font=t.options.bodyFont.string,e.style.padding=t.padding+"px "+t.padding+"px"},b=["canvasElement"],A=["*"];f.kL.register(...f.zX);let _=0,D=(()=>{class n{constructor(t,e,a){this.elementRef=t,this.ngZone=e,this.renderer=a,this.customTooltips=!0,this.id="c-chartjs-"+_++,this.plugins=[],this._redraw=!1,this.type="bar",this.wrapper=!0,this.getDatasetAtEvent=new s.vpe,this.getElementAtEvent=new s.vpe,this.getElementsAtEvent=new s.vpe}set height(t){this._height=(0,m.su)(t)}get height(){return this._height}set redraw(t){this._redraw=(0,m.Ig)(t)}get redraw(){return this._redraw}set width(t){this._width=(0,m.su)(t)}get width(){return this._width}get hostClasses(){return{"chart-wrapper":this.wrapper}}ngAfterViewInit(){this.chartRender()}ngOnChanges(t){t.data&&!t.data.firstChange&&this.chartUpdate()}ngOnDestroy(){this.chartDestroy()}handleOnClick(t){if(!this.chart)return;const e=this.chart.getElementsAtEventForMode(t,"dataset",{intersect:!0},!1);this.getDatasetAtEvent.emit(e);const a=this.chart.getElementsAtEventForMode(t,"nearest",{intersect:!0},!1);this.getElementAtEvent.emit(a);const l=this.chart.getElementsAtEventForMode(t,"index",{intersect:!0},!1);this.getElementsAtEvent.emit(l)}chartDestroy(){this.chart?.destroy()}chartRender(){if(!this.canvasElement)return;const t=this.canvasElement.nativeElement.getContext("2d");this.ngZone.runOutsideAngular(()=>{const e=this.chartConfig();e&&(this.chart=new f.kL(t,e),setTimeout(()=>{this.renderer.setStyle(this.canvasElement.nativeElement,"display","block")}))})}chartUpdate(){if(!this.chart)return;if(this.redraw)return this.chartDestroy(),void setTimeout(()=>{this.chartRender()});const t=this.chartConfig();this.options&&Object.assign(this.chart.options,t.options),this.chart.config.data||(this.chart.config.data={...t.data},this.chartUpdateOutsideAngular()),this.chart&&(Object.assign(this.chart.config.options,t.options),Object.assign(this.chart.config.plugins,t.plugins),Object.assign(this.chart.config.data,t.data)),this.chartUpdateOutsideAngular()}chartUpdateOutsideAngular(){setTimeout(()=>{this.ngZone.runOutsideAngular(()=>{this.chart?.update()})})}chartToBase64Image(){return this.chart?.toBase64Image()}chartDataConfig(){return{labels:this.data?.labels??[],datasets:this.data?.datasets??[]}}chartOptions(){return this.options}chartConfig(){return this.chartCustomTooltips(),{data:this.chartDataConfig(),options:this.chartOptions(),plugins:this.plugins,type:this.type}}chartCustomTooltips(){if(this.customTooltips){const e=this.options?.plugins,a=this.options?.plugins?.tooltip;this.options=(0,T.Z)({...this.options,plugins:{...e,tooltip:{...a,enabled:!1,mode:"index",position:"nearest",external:w}}})}}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(s.Qsj))},n.\u0275cmp=s.Xpm({type:n,selectors:[["c-chart"]],viewQuery:function(t,e){if(1&t&&s.Gf(b,5),2&t){let a;s.iGM(a=s.CRH())&&(e.canvasElement=a.first)}},hostVars:6,hostBindings:function(t,e){2&t&&(s.Tol(e.hostClasses),s.Udp("height",e.height,"px")("width",e.width,"px"))},inputs:{customTooltips:"customTooltips",data:"data",height:"height",id:"id",options:"options",plugins:"plugins",redraw:"redraw",type:"type",width:"width",wrapper:"wrapper"},outputs:{getDatasetAtEvent:"getDatasetAtEvent",getElementAtEvent:"getElementAtEvent",getElementsAtEvent:"getElementsAtEvent"},exportAs:["cChart"],features:[s.TTD],ngContentSelectors:A,decls:3,vars:3,consts:[["role","img",2,"display","none",3,"height","id","width","click"],["canvasElement",""]],template:function(t,e){1&t&&(s.F$t(),s.TgZ(0,"canvas",0,1),s.NdJ("click",function(l){return e.handleOnClick(l)}),s.Hsn(2),s.qZA()),2&t&&s.Q6J("height",e.height)("id",e.id)("width",e.width)},styles:[".chart-wrapper[_nghost-%COMP%]{display:block}"]}),n})(),j=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})()}}]);